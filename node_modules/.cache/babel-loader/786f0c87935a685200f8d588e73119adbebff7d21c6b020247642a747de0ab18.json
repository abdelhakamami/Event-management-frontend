{"ast":null,"code":"var _jsxFileName = \"/Users/hajerdardouri/Event-management-frontend/src/components/TableRessource/TableRessource.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TableRessource() {\n  _s();\n  const [ressource, setRessources] = useState([]);\n  const [currentClientName, setCurrentClientName] = useState(\"\");\n  const [currentPhone, setCurrentPhone] = useState(\"\");\n  const [currentEmail, setCurrentEmail] = useState(\"\");\n  const [editId, setEditId] = useState(null);\n  const [editIndex, setEditIndex] = useState(null);\n  const [counter, setCounter] = useState(0);\n  const [deleteConfirmId, setDeleteConfirmId] = useState(null);\n  useEffect(() => {\n    const fetchRessource = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/v1/getAllRessource\");\n        setRessources(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchRessource();\n  }, []);\n  const fetchRessourceDetails = async id => {\n    try {\n      const response = await axios.get(`http://localhost:8080/api/v1/getRessourceById/${id}`);\n      const ressourceDetails = response.data;\n      setCurrentClientName(ressourceDetails.clientname);\n      setCurrentPhone(ressourceDetails.phone);\n      setCurrentEmail(ressourceDetails.email);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleEditClick = (id, index) => {\n    setEditId(id);\n    setEditIndex(index);\n    fetchRessourceDetails(id);\n    window.my_modal_2.showModal();\n  };\n  const handleEditSubmit = async event => {\n    event.preventDefault();\n    try {\n      const updatedRessource = {\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail\n      };\n      await axios.put(`http://localhost:8080/api/v1/updateRessource/${editId}`, updatedRessource);\n\n      // Update the fournisseur in the local state\n      const updatedRessources = [...ressource];\n      updatedRessources[editIndex] = {\n        ...updatedRessources[editIndex],\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail\n      };\n      setRessources(updatedRessources);\n\n      // Clear the form and close the modal\n      setCurrentClientName(\"\");\n      setCurrentPhone(\"\");\n      setCurrentEmail(\"\");\n      window.my_modal_2.close();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleDeleteClick = id => {\n    // Set the id of the resource to be deleted for confirmation\n    setDeleteConfirmId(id);\n  };\n  const handleDeleteConfirm = async () => {\n    try {\n      await axios.delete(`http://localhost:8080/api/v1/deleteRessourceById/${deleteConfirmId}`);\n\n      // Remove the resource from the local state\n      const updatedRessources = ressource.filter(ressources => ressources.id !== deleteConfirmId);\n      setRessources(updatedRessources);\n      // Clear the deleteConfirmId to reset confirmation\n      setDeleteConfirmId(null);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleDeleteCancel = () => {\n    // Clear the deleteConfirmId to reset confirmation\n    setDeleteConfirmId(null);\n  };\n  const handleAddSubmit = async event => {\n    event.preventDefault();\n    try {\n      const newRessource = {\n        id: counter + 1,\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail\n      };\n      const response = await axios.post(\"http://localhost:8080/api/v1/addRessource\", newRessource);\n      const createdRessource = response.data;\n\n      // Add the new fournisseur to the local state\n      setRessources([...ressource, createdRessource]);\n\n      // Clear the form and close the modal\n      setCounter(counter + 1);\n      setCurrentClientName(\"\");\n      setCurrentPhone(\"\");\n      setCurrentEmail(\"\");\n      window.my_modal_3.close();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: deleteConfirmId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-80\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded p-5 w-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: \"Confirm Deletion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to delete this resource?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-ghost btn-sm mr-2\",\n            onClick: handleDeleteCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-red btn-sm\",\n            onClick: handleDeleteConfirm,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s(TableRessource, \"mW5ha6dxne2+Ke0ZITZDqfck8Qs=\");\n_c = TableRessource;\nexport default TableRessource;\nvar _c;\n$RefreshReg$(_c, \"TableRessource\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","TableRessource","_s","ressource","setRessources","currentClientName","setCurrentClientName","currentPhone","setCurrentPhone","currentEmail","setCurrentEmail","editId","setEditId","editIndex","setEditIndex","counter","setCounter","deleteConfirmId","setDeleteConfirmId","fetchRessource","response","get","data","error","console","fetchRessourceDetails","id","ressourceDetails","clientname","phone","email","handleEditClick","index","window","my_modal_2","showModal","handleEditSubmit","event","preventDefault","updatedRessource","put","updatedRessources","close","handleDeleteClick","handleDeleteConfirm","delete","filter","ressources","handleDeleteCancel","handleAddSubmit","newRessource","post","createdRessource","my_modal_3","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/hajerdardouri/Event-management-frontend/src/components/TableRessource/TableRessource.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction TableRessource() {\n  const [ressource, setRessources] = useState([]);\n  const [currentClientName, setCurrentClientName] = useState(\"\");\n  const [currentPhone, setCurrentPhone] = useState(\"\");\n  const [currentEmail, setCurrentEmail] = useState(\"\");\n  const [editId, setEditId] = useState(null);\n  const [editIndex, setEditIndex] = useState(null);\n  const [counter, setCounter] = useState(0);\n  const [deleteConfirmId, setDeleteConfirmId] = useState(null);\n\n  useEffect(() => {\n    const fetchRessource = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:8080/api/v1/getAllRessource\"\n        );\n        setRessources(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchRessource();\n  }, []);\n\n  const fetchRessourceDetails = async (id) => {\n    try {\n      const response = await axios.get(\n        `http://localhost:8080/api/v1/getRessourceById/${id}`\n      );\n      const ressourceDetails = response.data;\n      setCurrentClientName(ressourceDetails.clientname);\n      setCurrentPhone(ressourceDetails.phone);\n      setCurrentEmail(ressourceDetails.email);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleEditClick = (id, index) => {\n    setEditId(id);\n    setEditIndex(index);\n    fetchRessourceDetails(id);\n    window.my_modal_2.showModal();\n  };\n\n  const handleEditSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const updatedRessource = {\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail,\n      };\n\n      await axios.put(\n        `http://localhost:8080/api/v1/updateRessource/${editId}`,\n        updatedRessource\n      );\n\n      // Update the fournisseur in the local state\n      const updatedRessources = [...ressource];\n      updatedRessources[editIndex] = {\n        ...updatedRessources[editIndex],\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail,\n      };\n      setRessources(updatedRessources);\n\n      // Clear the form and close the modal\n      setCurrentClientName(\"\");\n      setCurrentPhone(\"\");\n      setCurrentEmail(\"\");\n      window.my_modal_2.close();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDeleteClick = (id) => {\n    // Set the id of the resource to be deleted for confirmation\n    setDeleteConfirmId(id);\n  };\n\n  const handleDeleteConfirm = async () => {\n    try {\n      await axios.delete(\n        `http://localhost:8080/api/v1/deleteRessourceById/${deleteConfirmId}`\n      );\n\n      // Remove the resource from the local state\n      const updatedRessources = ressource.filter(\n        (ressources) => ressources.id !== deleteConfirmId\n      );\n      setRessources(updatedRessources);\n      // Clear the deleteConfirmId to reset confirmation\n      setDeleteConfirmId(null);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDeleteCancel = () => {\n    // Clear the deleteConfirmId to reset confirmation\n    setDeleteConfirmId(null);\n  };\n\n  const handleAddSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const newRessource = {\n        id: counter + 1,\n        clientname: currentClientName,\n        phone: currentPhone,\n        email: currentEmail,\n      };\n\n      const response = await axios.post(\n        \"http://localhost:8080/api/v1/addRessource\",\n        newRessource\n      );\n\n      const createdRessource = response.data;\n\n      // Add the new fournisseur to the local state\n      setRessources([...ressource, createdRessource]);\n\n      // Clear the form and close the modal\n      setCounter(counter + 1);\n      setCurrentClientName(\"\");\n      setCurrentPhone(\"\");\n      setCurrentEmail(\"\");\n      window.my_modal_3.close();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div>\n      {/* ... (rest of the component code) */}\n      {deleteConfirmId && (\n        <div className=\"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-80\">\n          <div className=\"bg-white rounded p-5 w-80\">\n            <p className=\"text-xl font-semibold mb-3\">Confirm Deletion</p>\n            <p>Are you sure you want to delete this resource?</p>\n            <div className=\"flex justify-end mt-5\">\n              <button\n                className=\"btn btn-ghost btn-sm mr-2\"\n                onClick={handleDeleteCancel}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"btn btn-red btn-sm\"\n                onClick={handleDeleteConfirm}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TableRessource;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}